(this["webpackJsonptic-tac-toe-client"]=this["webpackJsonptic-tac-toe-client"]||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),l=n(26),i=n(24),u=n(65),s=n(51),m=n(35),p="GAME_MOVE",f="GAME_WINNER",d=function(e,t){var n=t.player,a=t.row,r=t.col,c=e.slice();return c[a][r]=n,c},h={},E=Object(i.c)({createLog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"CREATE_ACTION_LOG":return Object(m.a)(Object(m.a)({},e),a);default:return e}},fetchLogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"FETCH_ACTION_LOGS":return[].concat(Object(s.a)(e),Object(s.a)(a));default:return e}},board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"GAME_NEW":return[[0,0,0],[0,0,0],[0,0,0]];case p:return d(e,a);default:return e}},gameover:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case"GAME_NEW":return!1;case"GAME_OVER":case f:return!0;default:return e}},winner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case f:return a;case"GAME_NEW":return-1;default:return e}},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"GAME_PLAYER":return a;case"GAME_NEW":return 1;default:return e}}}),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[u.a],n=Object(i.d)(E,e,i.a.apply(void 0,t));return n},y=n(5),v=n(37),b=n(38),w=n(44),O=n(43),k=n(3),C=n.n(k),_=n(147),j=n(148),A=n(31),G=n(149),M=n(145),L=n(163),x=n(143),N=n(165),D=n(144),T=n(146),I=(C.a.func,C.a.bool,function(e){var t=e.open,n=e.onItemClick,a=e.onClose;return r.a.createElement(L.a,{open:t,onClose:a,anchor:"top"},r.a.createElement(x.a,null,r.a.createElement(N.a,{button:!0,onClick:function(){return n("new")}},r.a.createElement(D.a,null,r.a.createElement(M.a,null,"fiber_new")),r.a.createElement(T.a,null,"New game"))))}),R=n(18),S=n.n(R),W=n(30),B=[[{r:0,c:0},{r:0,c:1},{r:0,c:2}],[{r:1,c:0},{r:1,c:1},{r:1,c:2}],[{r:2,c:0},{r:2,c:1},{r:2,c:2}],[{r:0,c:0},{r:1,c:1},{r:2,c:2}],[{r:0,c:2},{r:1,c:1},{r:2,c:0}],[{r:0,c:0},{r:1,c:0},{r:2,c:0}],[{r:0,c:1},{r:1,c:1},{r:2,c:1}],[{r:0,c:2},{r:1,c:2},{r:2,c:2}]],H=n(69),P=n.n(H).a.create({baseURL:"https://fierce-eyrie-05319.herokuapp.com"}),V=function(e){return{type:f,payload:e}},F=function(){return{type:"GAME_NEW"}},Y=function(e){Object(w.a)(n,e);var t=Object(O.a)(n);function n(e,a){var r;return Object(v.a)(this,n),(r=t.call(this,e,a)).handleMenuClick=function(){r.setState({menuOpen:!0})},r.handleMenuClose=function(){r.setState({menuOpen:!1})},r.handleNewGameClick=function(e){"new"===e&&r.props.newGame(),r.setState({menuOpen:!1})},r.state={menuOpen:!1},r}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props.classes,t=this.state.menuOpen;return r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement(j.a,null,r.a.createElement(G.a,{className:e.menuButton,color:"inherit","aria-label":"Menu",onClick:this.handleMenuClick},r.a.createElement(M.a,null,"menu")),r.a.createElement(A.a,{variant:"h5",color:"inherit"},"Tic Tac Toe"))),r.a.createElement(I,{open:t,onItemClick:this.handleNewGameClick,onClose:this.handleMenuClose}))}}]),n}(a.Component),q=(C.a.object,C.a.func,{newGame:F}),z=Object(y.a)((function(){return{menuButton:{marginLeft:-12,marginRight:20}}}))(Y),J=Object(l.b)(null,q)(z),U=n(150),K=n(158),Q=n(162),X=n(161),Z=n(157),$=n(159),ee=n(160),te=n(72),ne=n(70),ae=n.n(ne),re=Object(y.a)((function(e){return{icon:{fontSize:"2em"}}}))((function(e){var t=e.classes,n=e.player;return r.a.createElement(M.a,{className:t.icon},function(e){switch(e){case 1:return"clear";case 2:return"panorama_fish_eye";default:return""}}(n))})),ce="1px solid black",oe=(C.a.arrayOf,C.a.number,C.a.object,C.a.func,Object(y.a)((function(e){return{square:{height:100,width:100,lineHeight:"100px",fontSize:"48px",cursor:"pointer"},marked:{cursor:"not-allowed"},row:{textAlign:"center"},"0_1":{borderLeft:ce,borderRight:ce},"2_1":{borderLeft:ce,borderRight:ce},"1_1":{border:ce},"1_0":{borderTop:ce,borderBottom:ce},"1_2":{borderTop:ce,borderBottom:ce}}}))((function(e){var t=e.classes,n=e.board,a=e.onMove;return r.a.createElement(U.a,{container:!0},n.map((function(e,n){return r.a.createElement(U.a,{key:n,item:!0,xs:12,className:t.row},r.a.createElement(U.a,{container:!0,justify:"center"},e.map((function(e,c){var o=t["".concat(n,"_").concat(c)]||"",l=0!==e?t.marked:"";return r.a.createElement(U.a,{key:c,item:!0,className:ae()(t.square,o,l),onClick:function(){return a({row:n,col:c})}},r.a.createElement(re,{player:e}))}))))})))}))),le=(C.a.number,C.a.bool,function(e){var t=e.player,n=e.gameover;return r.a.createElement("h1",{style:{textAlign:"center"},variant:"body1"},n&&"Gameover!",!n&&"Player: ".concat(t))}),ie=n(156),ue=n(151),se=n(152),me=n(153),pe=n(154),fe=n(155),de=n(164),he=(C.a.func,C.a.bool,C.a.number,Object(de.a)()((function(e){var t=e.fullScreen,n=e.open,a=e.isDraw,c=e.player,o=e.onClick,l=e.onClose,i=a?"Draw!":"Player - ".concat(c," wins!");return r.a.createElement(ue.a,{fullScreen:t,open:n,onClose:l,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(se.a,{id:"responsive-dialog-title"},i),r.a.createElement(me.a,null,r.a.createElement(pe.a,null,"Would you like to start a new game?")),r.a.createElement(fe.a,null,r.a.createElement(ie.a,{onClick:function(){return o(!1)},color:"secondary"},"No"),r.a.createElement(ie.a,{onClick:function(){return o(!0)},color:"primary",autoFocus:!0},"Yes")))}))),Ee=function(e){Object(w.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).handleBoardOnMove=function(){var e=Object(W.a)(S.a.mark((function e(t){var n,r,c,o,l,i,u,s,m;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.board,c=n.player,o=n.gameover,l=n.playTurn,i=n.checkWinner,u=t.row,s=t.col,!o&&0===r[u][s]){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,l(c,u,s);case 6:return e.next=8,i(r,c);case 8:m=e.sent,a.setGameHistory(a.props,m),m&&a.setState({showDialog:!0});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleDialogClick=function(e){e&&a.props.newGame(),a.setState({showDialog:!1})},a.handleDialogClose=function(){a.setState({showDialog:!1})},a.setGameHistory=function(){var e=Object(W.a)(S.a.mark((function e(t){var n,r,c,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.player,r=t.winner,!t.gameover){e.next=12;break}return c=0===r,(o={date:null,gameId:null,result:null,player:null}).date=(new Date).toLocaleDateString(),o.gameId=Math.floor(100*Math.random()+1),o.result=c?"Draw":"Winner",o.player=c?null:n,e.next=10,a.props.createActionLog(o);case 10:return e.next=12,a.props.fetchActionLogs();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={showDialog:!1,history:[]},a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchActionLogs()}},{key:"render",value:function(){var e=this.state.showDialog,t=this.props,n=t.board,a=t.player,c=t.gameover,o=t.winner,l=t.fatchLogs,i=0===o;return r.a.createElement("div",null,r.a.createElement(U.a,{container:!0,spacing:2},r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(le,{player:a,gameover:c}),r.a.createElement(oe,{board:n,onMove:this.handleBoardOnMove})),r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:8},r.a.createElement(Z.a,{component:te.a},r.a.createElement(K.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement($.a,null,r.a.createElement(ee.a,null,r.a.createElement(X.a,null,"Id"),r.a.createElement(X.a,{align:"right"},"GameId"),r.a.createElement(X.a,{align:"right"},"Date"),r.a.createElement(X.a,{align:"right"},"Player"),r.a.createElement(X.a,{align:"right"},"Result"))),r.a.createElement(Q.a,null,l.map((function(e,t){return r.a.createElement(ee.a,{key:t},r.a.createElement(X.a,{component:"th",scope:"row"}," ",e.id),r.a.createElement(X.a,{component:"th",scope:"row"}," ",e.gameId),r.a.createElement(X.a,{align:"right"},e.date),r.a.createElement(X.a,{align:"right"},e.player),r.a.createElement(X.a,{align:"right"},e.result))}))))))),r.a.createElement(he,{open:e,isDraw:i,player:o,onClick:this.handleDialogClick,onClose:this.handleDialogClose}))}}]),n}(a.Component),ge=(C.a.arrayOf,C.a.number,C.a.func,C.a.bool,C.a.array,{playTurn:function(e,t,n){return function(a){var r;switch(e){case 1:r=2;break;case 2:r=1}a(function(e,t,n){return{type:p,payload:{player:e,row:t,col:n}}}(e,t,n)),a(function(e){return{type:"GAME_PLAYER",payload:e}}(r))}},checkWinner:function(e,t){return function(n){var a=!0;return!function(e,t){return B.some((function(n){return n.every((function(n){var a=n.r,r=n.c;return e[a][r]===t}))}))}(e,t)?!function(e){return!e.some((function(e){return e.some((function(e){return 0===e}))}))}(e)?a=!1:(n(V(0)),n({type:"GAME_OVER"})):(n(V(t)),n({type:"GAME_OVER"})),a}},newGame:F,createActionLog:function(e){return function(){var t=Object(W.a)(S.a.mark((function t(n,a){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.post("/actionlogs",Object(m.a)({},e));case 2:r=t.sent,n({type:"CREATE_ACTION_LOG",payload:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},fetchActionLogs:function(){return function(){var e=Object(W.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/actionlogs");case 2:n=e.sent,t({type:"FETCH_ACTION_LOGS",payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),ye=Object(l.b)((function(e){return{board:e.board,player:e.player,gameover:e.gameover,winner:e.winner,fatchLogs:e.fetchLogs,createLog:e.createLog}}),ge)(Ee),ve=Object(y.a)((function(e){return{content:{paddingTop:e.mixins.toolbar.minHeight+10}}}))((function(e){var t=e.classes;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(J,null))),r.a.createElement("div",{className:t.content},r.a.createElement("section",null,r.a.createElement(ye,null))))})),be=g({});be.dispatch({type:"GAME_NEW"}),o.a.render(r.a.createElement(l.a,{store:be},r.a.createElement(ve,null)),document.getElementById("root"))},81:function(e,t,n){e.exports=n(109)}},[[81,1,2]]]);
//# sourceMappingURL=main.ef13df15.chunk.js.map